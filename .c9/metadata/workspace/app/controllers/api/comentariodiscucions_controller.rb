{"filter":false,"title":"comentariodiscucions_controller.rb","tooltip":"/app/controllers/api/comentariodiscucions_controller.rb","undoManager":{"mark":24,"position":24,"stack":[[{"start":{"row":0,"column":6},"end":{"row":0,"column":7},"action":"insert","lines":["A"],"id":2}],[{"start":{"row":0,"column":7},"end":{"row":0,"column":8},"action":"insert","lines":["p"],"id":3}],[{"start":{"row":0,"column":8},"end":{"row":0,"column":9},"action":"insert","lines":["i"],"id":4}],[{"start":{"row":0,"column":9},"end":{"row":0,"column":10},"action":"insert","lines":["i"],"id":5}],[{"start":{"row":0,"column":9},"end":{"row":0,"column":10},"action":"remove","lines":["i"],"id":6}],[{"start":{"row":0,"column":9},"end":{"row":0,"column":10},"action":"insert","lines":[":"],"id":7}],[{"start":{"row":0,"column":10},"end":{"row":0,"column":11},"action":"insert","lines":[":"],"id":8}],[{"start":{"row":3,"column":2},"end":{"row":48,"column":0},"action":"remove","lines":["# GET /comentariodiscucions","  # GET /comentariodiscucions.json","  def index","    @comentariodiscucions = Comentariodiscucion.all","","    render json: @comentariodiscucions","  end","","  # GET /comentariodiscucions/1","  # GET /comentariodiscucions/1.json","  def show","    render json: @comentariodiscucion","  end","","  # POST /comentariodiscucions","  # POST /comentariodiscucions.json","  def create","    @comentariodiscucion = Comentariodiscucion.new(comentariodiscucion_params)","","    if @comentariodiscucion.save","      render json: @comentariodiscucion, status: :created, location: @comentariodiscucion","    else","      render json: @comentariodiscucion.errors, status: :unprocessable_entity","    end","  end","","  # PATCH/PUT /comentariodiscucions/1","  # PATCH/PUT /comentariodiscucions/1.json","  def update","    if @comentariodiscucion.update(comentariodiscucion_params)","      head :no_content","    else","      render json: @comentariodiscucion.errors, status: :unprocessable_entity","    end","  end","","  # DELETE /comentariodiscucions/1","  # DELETE /comentariodiscucions/1.json","  def destroy","    @comentariodiscucion.destroy","","    head :no_content","  end","","  private",""],"id":9},{"start":{"row":3,"column":2},"end":{"row":65,"column":7},"action":"insert","lines":["def index","    @comentarios = Comentario.all","","    # Filter for relacion","    @comentarios = @comentarios.id_post(params[:id_post]) if params[:id_post]","","    @comentarios = @comentarios.id_usuario(params[:id_usuario]) if params[:id_usuario]","    ","    # Order by","    @comentarios = @comentarios.order(params[:order].gsub(':', ' ')) if params[:order]","","    # Pagination","    if (params[:offset] && params[:limit])","        @comentarios = @comentarios.page(1).per(params[:limit]).padding(params[:offset])","    else","        @comentarios = @comentarios.page(1).per(25)","    end","","    if @comentarios.count != 0","      render json: @comentarios if stale?(etag: @comentarios.all, last_modified: @comentarios.maximum(:updated_at))","    else","      head :no_content                                                          # 204","    end","  end","","  def show","    render json: @comentario if stale?(@comentario)","    head :ok                                                                    # 200","  end","","  def create","    @comentario = Comentario.create(comentario_params)","","    if @comentario.save","      render json: @comentario, status: :created                                  # 201","    else","      render json: @comentario.errors, status: :unprocessable_entity              # 422","    end","  end","","  def update","    if @comentario.update(comentario_params)","      head :no_content                                                          # 204","    else","      render json: @comentario.errors, status: :unprocessable_entity              # 422","    end","  end","","  def destroy","    @comentario.destroy","        ","    head :no_content                                                            # 204","  end","","  private","","    def set_comentario","      if Comentario.unscoped.where(:id => params[:id]).any?","        @comentario = Comentario.find(params[:id])","      else","        head :no_content                                                        # 204","      end","    end"]}],[{"start":{"row":65,"column":1},"end":{"row":68,"column":7},"action":"remove","lines":["   end","    def set_comentariodiscucion","      @comentariodiscucion = Comentariodiscucion.find(params[:id])","    end"],"id":10},{"start":{"row":65,"column":1},"end":{"row":65,"column":2},"action":"insert","lines":["e"]}],[{"start":{"row":65,"column":2},"end":{"row":65,"column":3},"action":"insert","lines":["n"],"id":11}],[{"start":{"row":65,"column":3},"end":{"row":65,"column":4},"action":"insert","lines":["d"],"id":12}],[{"start":{"row":65,"column":1},"end":{"row":65,"column":2},"action":"insert","lines":[" "],"id":13}],[{"start":{"row":61,"column":22},"end":{"row":61,"column":32},"action":"remove","lines":["Comentario"],"id":14},{"start":{"row":61,"column":22},"end":{"row":61,"column":41},"action":"insert","lines":["Comentariodiscucion"]}],[{"start":{"row":60,"column":9},"end":{"row":60,"column":19},"action":"remove","lines":["Comentario"],"id":15},{"start":{"row":60,"column":9},"end":{"row":60,"column":28},"action":"insert","lines":["Comentariodiscucion"]}],[{"start":{"row":34,"column":18},"end":{"row":34,"column":28},"action":"remove","lines":["Comentario"],"id":16},{"start":{"row":34,"column":18},"end":{"row":34,"column":37},"action":"insert","lines":["Comentariodiscucion"]}],[{"start":{"row":4,"column":19},"end":{"row":4,"column":29},"action":"remove","lines":["Comentario"],"id":23},{"start":{"row":4,"column":19},"end":{"row":4,"column":38},"action":"insert","lines":["Comentariodiscucion"]}],[{"start":{"row":59,"column":8},"end":{"row":59,"column":22},"action":"remove","lines":["set_comentario"],"id":24},{"start":{"row":59,"column":8},"end":{"row":59,"column":31},"action":"insert","lines":["set_comentariodiscucion"]}],[{"start":{"row":44,"column":26},"end":{"row":44,"column":43},"action":"remove","lines":["comentario_params"],"id":25},{"start":{"row":44,"column":26},"end":{"row":44,"column":52},"action":"insert","lines":["comentariodiscucion_params"]}],[{"start":{"row":34,"column":45},"end":{"row":34,"column":62},"action":"remove","lines":["comentario_params"],"id":26},{"start":{"row":34,"column":45},"end":{"row":34,"column":71},"action":"insert","lines":["comentariodiscucion_params"]}],[{"start":{"row":60,"column":9},"end":{"row":60,"column":28},"action":"remove","lines":["Comentariodiscucion"],"id":27},{"start":{"row":60,"column":9},"end":{"row":60,"column":28},"action":"insert","lines":["Comentariodiscucion"]}],[{"start":{"row":61,"column":22},"end":{"row":61,"column":41},"action":"remove","lines":["Comentariodiscucion"],"id":28},{"start":{"row":61,"column":22},"end":{"row":61,"column":41},"action":"insert","lines":["Comentariodiscucion"]}],[{"start":{"row":4,"column":19},"end":{"row":4,"column":38},"action":"remove","lines":["Comentariodiscucion"],"id":29},{"start":{"row":4,"column":19},"end":{"row":4,"column":38},"action":"insert","lines":["Comentariodiscucion"]}],[{"start":{"row":34,"column":18},"end":{"row":34,"column":37},"action":"remove","lines":["Comentariodiscucion"],"id":30},{"start":{"row":34,"column":18},"end":{"row":34,"column":37},"action":"insert","lines":["Comentariodiscucion"]}],[{"start":{"row":60,"column":9},"end":{"row":60,"column":28},"action":"remove","lines":["Comentariodiscucion"],"id":31},{"start":{"row":60,"column":9},"end":{"row":60,"column":28},"action":"insert","lines":["Comentariodiscucion"]}],[{"start":{"row":61,"column":22},"end":{"row":61,"column":41},"action":"remove","lines":["Comentariodiscucion"],"id":32},{"start":{"row":61,"column":22},"end":{"row":61,"column":41},"action":"insert","lines":["Comentariodiscucion"]}]]},"ace":{"folds":[],"scrolltop":1211.5,"scrollleft":0,"selection":{"start":{"row":68,"column":51},"end":{"row":68,"column":58},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1490644133806,"hash":"01d3ad670da56cbb76877c44ce040653e5fd2117"}